<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<title>Renaix</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --orange: #F97316;
  --navy: #1E3A5F;
  --orange-light: #FFF7ED;
  --orange-mid: #FED7AA;
  --bg: #F4F5F7;
  --card: #FFFFFF;
  --text: #111827;
  --muted: #6B7280;
  --border: #E5E7EB;
  --green: #10B981;
  --blue: #3B82F6;
  --purple: #8B5CF6;
  --red: #EF4444;
  --tab-h: 62px;
  --safe-b: env(safe-area-inset-bottom, 0px);
  --safe-t: env(safe-area-inset-top, 0px);
  --radius: 14px;
}

html, body {
  height: 100%; background: var(--bg);
  font-family: -apple-system, "SF Pro Text", "Segoe UI", sans-serif;
  color: var(--text); overflow: hidden;
}

#app { display: flex; flex-direction: column; height: 100%; }

/* â”€â”€â”€ TOP BAR â”€â”€â”€ */
#top-bar {
  background: var(--navy);
  padding: calc(var(--safe-t) + 12px) 16px 12px;
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: space-between;
}
#top-bar .brand { display: flex; align-items: center; gap: 10px; }
#top-bar .logo {
  width: 34px; height: 34px; border-radius: 10px;
  background: var(--orange); display: flex; align-items: center; justify-content: center;
  font-size: 18px; font-weight: 900; color: white; letter-spacing: -1px;
}
#top-bar h1 { font-size: 18px; font-weight: 700; color: white; }
#top-bar .tagline { font-size: 11px; color: rgba(255,255,255,0.55); margin-top: 1px; }
#search-btn {
  background: rgba(255,255,255,0.12); border: none; border-radius: 10px;
  color: white; padding: 8px 10px; font-size: 16px; cursor: pointer;
}

/* â”€â”€â”€ SEARCH OVERLAY â”€â”€â”€ */
#search-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5);
  z-index: 200; display: none; flex-direction: column;
}
#search-overlay.open { display: flex; }
#search-box {
  background: var(--card); padding: 12px 16px;
  display: flex; gap: 10px; align-items: center;
  padding-top: calc(var(--safe-t) + 12px);
}
#search-input {
  flex: 1; border: none; outline: none; font-size: 16px;
  background: var(--bg); border-radius: 10px; padding: 9px 14px;
}
#search-cancel { background: none; border: none; color: var(--orange); font-size: 15px; cursor: pointer; }
#search-results { flex: 1; overflow-y: auto; padding: 8px 0; }

/* â”€â”€â”€ CONTENT â”€â”€â”€ */
#content-area {
  flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch;
  padding-bottom: 8px;
}

/* â”€â”€â”€ TAB BAR â”€â”€â”€ */
#tab-bar {
  display: flex; flex-shrink: 0; background: var(--card);
  border-top: 1px solid var(--border);
  padding-bottom: var(--safe-b);
  height: calc(var(--tab-h) + var(--safe-b));
}
.tab {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 3px;
  font-size: 10px; font-weight: 600; color: var(--muted);
  cursor: pointer; border: none; background: none; padding: 6px 0;
  -webkit-tap-highlight-color: transparent; transition: color 0.15s;
}
.tab .icon { font-size: 22px; line-height: 1; }
.tab.active { color: var(--orange); }

/* â”€â”€â”€ ARTICLE OVERLAY â”€â”€â”€ */
#article-view {
  position: fixed; inset: 0; background: var(--card);
  z-index: 100; transform: translateX(100%);
  transition: transform 0.28s cubic-bezier(0.4,0,0.2,1);
  display: flex; flex-direction: column;
}
#article-view.open { transform: translateX(0); }
#article-nav {
  display: flex; align-items: center; gap: 12px;
  padding: calc(var(--safe-t) + 12px) 16px 12px;
  background: var(--card); border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}
#back-btn {
  background: var(--bg); border: none; border-radius: 10px;
  padding: 7px 13px; font-size: 14px; color: var(--orange);
  cursor: pointer; font-weight: 600; white-space: nowrap;
}
#article-title { font-size: 14px; font-weight: 600; flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
#article-body { flex: 1; overflow-y: auto; padding: 20px 16px 40px; line-height: 1.7; }
#article-body h1 { font-size: 20px; margin-bottom: 12px; color: var(--navy); }
#article-body h2 { font-size: 17px; margin: 20px 0 8px; color: var(--navy); }
#article-body h3 { font-size: 15px; margin: 16px 0 6px; }
#article-body p { margin-bottom: 10px; font-size: 14px; }
#article-body li { font-size: 14px; margin-left: 18px; margin-bottom: 4px; }
#article-body code { background: var(--bg); padding: 2px 6px; border-radius: 5px; font-size: 12px; }
#article-body pre { background: var(--bg); padding: 12px; border-radius: 10px; margin: 10px 0; overflow-x: auto; }
#article-body pre code { background: none; padding: 0; }
#article-body table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 13px; }
#article-body th { background: var(--navy); color: white; padding: 8px 10px; text-align: left; }
#article-body td { padding: 7px 10px; border-bottom: 1px solid var(--border); }
#article-body tr:nth-child(even) td { background: var(--bg); }
#article-body blockquote { border-left: 3px solid var(--orange); padding: 8px 12px; background: var(--orange-light); border-radius: 0 8px 8px 0; margin: 10px 0; }
#article-body a { color: var(--orange); }

/* â”€â”€â”€ HOME TAB â”€â”€â”€ */
.home-hero {
  background: linear-gradient(135deg, var(--navy) 0%, #2d5a94 100%);
  padding: 20px 16px 24px; color: white;
}
.home-hero h2 { font-size: 22px; font-weight: 800; margin-bottom: 4px; }
.home-hero .sub { font-size: 13px; color: rgba(255,255,255,0.65); }
.home-hero .phase-badge {
  display: inline-flex; align-items: center; gap: 6px;
  background: rgba(249,115,22,0.25); border: 1px solid rgba(249,115,22,0.5);
  border-radius: 20px; padding: 4px 12px; margin-top: 12px;
  font-size: 12px; color: #FED7AA; font-weight: 600;
}

.kpi-row {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 10px; padding: 14px 12px;
}
.kpi-card {
  background: var(--card); border-radius: var(--radius);
  padding: 12px 8px; text-align: center;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06);
}
.kpi-card .kpi-num { font-size: 22px; font-weight: 800; color: var(--navy); }
.kpi-card .kpi-label { font-size: 10px; color: var(--muted); margin-top: 2px; font-weight: 600; letter-spacing: 0.3px; }
.kpi-card .kpi-delta { font-size: 10px; color: var(--green); margin-top: 3px; }

.section-title {
  font-size: 13px; font-weight: 700; color: var(--muted);
  padding: 4px 16px 6px; text-transform: uppercase; letter-spacing: 0.5px;
}

.focus-card {
  margin: 0 12px 12px; background: var(--orange-light);
  border: 1px solid var(--orange-mid); border-radius: var(--radius);
  padding: 14px 14px;
}
.focus-card .focus-title { font-size: 12px; font-weight: 700; color: var(--orange); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.4px; }
.focus-item {
  display: flex; align-items: flex-start; gap: 8px;
  font-size: 13px; color: var(--navy); margin-bottom: 6px; font-weight: 500;
}
.focus-item:last-child { margin-bottom: 0; }
.focus-num {
  background: var(--orange); color: white; border-radius: 50%;
  width: 18px; height: 18px; font-size: 10px; font-weight: 700;
  display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 1px;
}

/* â”€â”€â”€ CARDS â”€â”€â”€ */
.card-list { padding: 0 12px; }
.doc-card {
  background: var(--card); border-radius: var(--radius);
  padding: 13px 14px; margin-bottom: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.05);
  display: flex; align-items: center; gap: 12px; cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: transform 0.1s, box-shadow 0.1s;
}
.doc-card:active { transform: scale(0.98); box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
.doc-icon { font-size: 28px; flex-shrink: 0; }
.doc-info { flex: 1; min-width: 0; }
.doc-name { font-size: 14px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.doc-meta { display: flex; align-items: center; gap: 6px; margin-top: 3px; }
.doc-tag {
  font-size: 10px; font-weight: 600; padding: 2px 7px; border-radius: 20px;
  background: var(--orange-light); color: var(--orange);
}
.doc-date { font-size: 11px; color: var(--muted); }
.doc-arrow { color: var(--border); font-size: 18px; flex-shrink: 0; }

/* â”€â”€â”€ ACTIVITY FEED â”€â”€â”€ */
.activity-item {
  display: flex; gap: 10px; padding: 10px 16px;
  border-bottom: 1px solid var(--border);
}
.activity-dot {
  width: 8px; height: 8px; border-radius: 50%; background: var(--orange);
  flex-shrink: 0; margin-top: 5px;
}
.activity-text { font-size: 13px; color: var(--text); flex: 1; }
.activity-time { font-size: 11px; color: var(--muted); margin-top: 2px; }

/* â”€â”€â”€ CLIENT PIPELINE â”€â”€â”€ */
.pipeline-stages {
  display: flex; gap: 8px; padding: 12px 12px 4px;
  overflow-x: auto; -webkit-overflow-scrolling: touch;
}
.pipeline-stages::-webkit-scrollbar { display: none; }
.stage-chip {
  flex-shrink: 0; padding: 6px 14px; border-radius: 20px;
  font-size: 12px; font-weight: 600; border: 2px solid transparent;
  cursor: pointer; background: var(--card); color: var(--muted);
  transition: all 0.15s;
}
.stage-chip.active { background: var(--navy); color: white; border-color: var(--navy); }

.client-card {
  background: var(--card); border-radius: var(--radius);
  margin: 0 12px 10px; overflow: hidden;
  box-shadow: 0 1px 6px rgba(0,0,0,0.07);
}
.client-card-header {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 14px 10px;
}
.client-avatar {
  width: 44px; height: 44px; border-radius: 12px;
  background: linear-gradient(135deg, var(--navy), #2d5a94);
  display: flex; align-items: center; justify-content: center;
  font-size: 20px; flex-shrink: 0;
}
.client-name { font-size: 15px; font-weight: 700; }
.client-stage { font-size: 11px; color: var(--muted); margin-top: 2px; }
.client-status { margin-left: auto; }
.status-badge {
  padding: 3px 10px; border-radius: 20px; font-size: 11px; font-weight: 600;
}
.status-active { background: #D1FAE5; color: #065F46; }
.status-lead { background: #FEF3C7; color: #92400E; }
.status-demo { background: #E0E7FF; color: #3730A3; }

.client-metrics {
  display: flex; gap: 0; border-top: 1px solid var(--border);
}
.metric-cell {
  flex: 1; padding: 10px 12px; text-align: center;
  border-right: 1px solid var(--border);
}
.metric-cell:last-child { border-right: none; }
.metric-val { font-size: 15px; font-weight: 700; color: var(--navy); }
.metric-key { font-size: 10px; color: var(--muted); margin-top: 2px; font-weight: 600; }

.client-next {
  padding: 10px 14px 12px; display: flex; align-items: center; gap: 8px;
}
.next-label { font-size: 11px; font-weight: 700; color: var(--orange); }
.next-text { font-size: 12px; color: var(--text); }

.empty-state {
  text-align: center; padding: 40px 24px; color: var(--muted);
}
.empty-state .empty-icon { font-size: 40px; margin-bottom: 10px; }
.empty-state p { font-size: 14px; }

/* â”€â”€â”€ FILTER CHIPS â”€â”€â”€ */
.filter-row {
  display: flex; gap: 7px; padding: 10px 12px 4px;
  overflow-x: auto; -webkit-overflow-scrolling: touch;
}
.filter-row::-webkit-scrollbar { display: none; }
.chip {
  flex-shrink: 0; padding: 5px 13px; border-radius: 20px;
  font-size: 12px; font-weight: 600; cursor: pointer;
  background: var(--card); color: var(--muted); border: 1.5px solid var(--border);
  transition: all 0.15s; -webkit-tap-highlight-color: transparent;
}
.chip.active { background: var(--orange); color: white; border-color: var(--orange); }

/* â”€â”€â”€ QUICK ACTIONS â”€â”€â”€ */
.quick-actions {
  display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 0 12px 12px;
}
.qa-btn {
  background: var(--card); border-radius: var(--radius);
  padding: 14px 12px; cursor: pointer; display: flex; align-items: center; gap: 10px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06); -webkit-tap-highlight-color: transparent;
  transition: transform 0.1s;
}
.qa-btn:active { transform: scale(0.97); }
.qa-icon { font-size: 24px; }
.qa-text .qa-title { font-size: 13px; font-weight: 600; }
.qa-text .qa-desc { font-size: 11px; color: var(--muted); margin-top: 1px; }
</style>
</head>
<body>
<div id="app">
  <div id="top-bar">
    <div class="brand">
      <div class="logo">R</div>
      <div>
        <h1>Renaix</h1>
        <div class="tagline">AI-native company Â· ğŸ§­ CEO Elon</div>
      </div>
    </div>
    <button id="search-btn" onclick="openSearch()">ğŸ”</button>
  </div>
  <div id="content-area"></div>
  <nav id="tab-bar">
    <button class="tab active" onclick="switchTab('home',this)">
      <span class="icon">ğŸ›</span>å…¬å¸
    </button>
    <button class="tab" onclick="switchTab('clients',this)">
      <span class="icon">ğŸ¤</span>å®¢æˆ·
    </button>
    <button class="tab" onclick="switchTab('market',this)">
      <span class="icon">ğŸ“Š</span>å¸‚åœº
    </button>
    <button class="tab" onclick="switchTab('strategy',this)">
      <span class="icon">ğŸ¯</span>ç­–ç•¥
    </button>
    <button class="tab" onclick="switchTab('maya',this)">
      <span class="icon">ğŸ¤–</span>Maya
    </button>
  </nav>
</div>

<!-- Search Overlay -->
<div id="search-overlay">
  <div id="search-box">
    <input id="search-input" type="search" placeholder="æœç´¢æ–‡æ¡£â€¦" oninput="doSearch(this.value)" />
    <button id="search-cancel" onclick="closeSearch()">å–æ¶ˆ</button>
  </div>
  <div id="search-results"></div>
</div>

<!-- Article Overlay -->
<div id="article-view">
  <div id="article-nav">
    <button id="back-btn" onclick="closeArticle()">â€¹ è¿”å›</button>
    <div id="article-title"></div>
  </div>
  <div id="article-body"></div>
</div>

<script>
if (window.Telegram?.WebApp) { Telegram.WebApp.ready(); Telegram.WebApp.expand(); }

const BASE = location.pathname.replace(/\/$/, '');
let currentTab = 'home';
let statsData = {};

// â”€â”€ All documents index for search â”€â”€
const ALL_DOCS = [
  { name: 'Maya äº§å“å¤§æˆ˜ç•¥', file: 'product/maya-product-strategy.md', icon: 'ğŸ§­', tag: 'äº§å“' },
  { name: 'å®šä»·æ¨¡å‹', file: 'product/Maya-å®šä»·æ¨¡å‹.md', icon: 'ğŸ’°', tag: 'äº§å“' },
  { name: 'GC AI äº§å“æœºä¼šå…¨æ™¯è§„åˆ’', file: 'product/GC-AIäº§å“æœºä¼šå…¨æ™¯è§„åˆ’.md', icon: 'ğŸ—º', tag: 'äº§å“' },
  { name: 'å‘ç°è®¿è°ˆå®Œæ•´æ‰§è¡Œå‰§æœ¬', file: 'gtm/2026-02-22-GCå‘ç°è®¿è°ˆæ‰§è¡Œå‰§æœ¬.md', icon: 'ğŸ¤', tag: 'GTM' },
  { name: 'Demo æ¼”ç¤ºä¸é¦–å• Closing', file: 'gtm/2026-02-22-Demoæ¼”ç¤ºè®¾è®¡ä¸é¦–å•Closing.md', icon: 'ğŸ¯', tag: 'GTM' },
  { name: 'è¾¾æ‹‰æ–¯ GC å¸‚åœºä½œæˆ˜æ‰‹å†Œ', file: 'gtm/2026-02-20-å¾·å…‹è¨æ–¯å·GCå¸‚åœºåˆ‡å…¥ä½œæˆ˜æ‰‹å†Œ.md', icon: 'ğŸ—º', tag: 'GTM' },
  { name: 'GC ä¾›åº”å•†æ¸ é“è·å®¢æˆ˜ç•¥', file: 'gtm/2026-02-21-GCä¾›åº”å•†æ¸ é“ä¸è¡Œä¸šåä¼šè·å®¢æˆ˜ç•¥.md', icon: 'ğŸ¢', tag: 'GTM' },
  { name: 'GC è¡Œä¸šä¿¡ä»»å»ºç«‹ç­–ç•¥', file: 'gtm/2026-02-19-GCè¡Œä¸šä¿¡ä»»å»ºç«‹ä¸æœ¬åœ°æ¸—é€ç­–ç•¥.md', icon: 'ğŸ¤', tag: 'GTM' },
  { name: 'å‘ç°è®¿è°ˆè„šæœ¬ä¸å†·å¤–è”æ‰‹å†Œ', file: 'gtm/2026-02-18-GCå‘ç°è®¿è°ˆè„šæœ¬ä¸å†·å¤–è”æ‰‹å†Œ.md', icon: 'ğŸ™', tag: 'GTM' },
  { name: 'åˆ›å§‹äººä¸»å¯¼é”€å”®', file: 'gtm/2026-02-19-åˆ›å§‹äººä¸»å¯¼é”€å”®ä¸é¦–æ‰¹å®¢æˆ·å…³é—­.md', icon: 'ğŸ’¼', tag: 'GTM' },
  { name: 'GC åå¤§å…·ä½“ç—›ç‚¹ Ã— AI æœºä¼š', file: 'market/2026-02-21-GCåå¤§å…·ä½“ç—›ç‚¹ä¸AIäº§å“æœºä¼š.md', icon: 'ğŸ—', tag: 'å¸‚åœº' },
  { name: 'GC é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸæ‹†è§£', file: 'market/2026-02-21-GCé¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸä¸AIè‡ªåŠ¨åŒ–æœºä¼š.md', icon: 'ğŸ”„', tag: 'å¸‚åœº' },
  { name: 'CrossBeam ç«å“æ·±åº¦è°ƒç ”', file: 'market/2026-02-21-crossbeam-competitor-watch.md', icon: 'ğŸ“¡', tag: 'ç«å“' },
  { name: 'Track 1 ç«å“åœ°å›¾', file: 'market/2026-02-17-Track1-Competitor-Map.md', icon: 'ğŸ—‚', tag: 'ç«å“' },
  { name: 'è“æµ·ç»†åˆ†å¸‚åœº Top 20', file: 'market/Top-20-Blue-Ocean-Jobs.md', icon: 'ğŸŒŠ', tag: 'å¸‚åœº' },
  { name: '200 å²—ä½ AI æ›¿ä»£åˆ†æ', file: 'market/200-jobs-ai-replacement-analysis.md', icon: 'ğŸ“Š', tag: 'å¸‚åœº' },
  { name: 'NAICS è¡Œä¸šæ¦‚è§ˆ', file: 'market/NAICS-20-Sectors-Overview.md', icon: 'ğŸ­', tag: 'å¸‚åœº' },
  { name: 'å…¬å¸æ—¶é—´çº¿', file: 'company/Company-Timeline.md', icon: 'ğŸ—“', tag: 'å…¬å¸' },
  { name: 'AI å²—ä½æ›¿ä»£æ–¹æ³•è®º', file: 'company/AIå²—ä½æ›¿ä»£æ–¹æ³•è®º.md', icon: 'ğŸ¤–', tag: 'å…¬å¸' },
  { name: 'B2B å®šä»·å¿ƒç†å­¦', file: 'company/2026-02-20-B2BæœåŠ¡å®šä»·å¿ƒç†å­¦ä¸æ—©æœŸå®šä»·ç­–ç•¥.md', icon: 'ğŸ’°', tag: 'å­¦ä¹ ' },
  { name: 'äº§å“èŒƒå›´æ§åˆ¶ä¸ç„¦ç‚¹çºªå¾‹', file: 'company/2026-02-21-æ—©æœŸåˆ›ä¸šäº§å“èŒƒå›´æ§åˆ¶ä¸ç„¦ç‚¹çºªå¾‹.md', icon: 'ğŸ“‹', tag: 'å­¦ä¹ ' },
];

const STRATEGY_DOCS = [
  { name: 'Maya äº§å“å¤§æˆ˜ç•¥', file: 'product/maya-product-strategy.md', icon: 'ğŸ§­', tag: 'äº§å“', desc: 'ä¸‰åœˆæ¡†æ¶ Â· AI å‘˜å·¥å®šä½' },
  { name: 'å®šä»·æ¨¡å‹', file: 'product/Maya-å®šä»·æ¨¡å‹.md', icon: 'ğŸ’°', tag: 'äº§å“', desc: 'åŸºæœ¬å·¥èµ„ + Contractor' },
  { name: 'GC AI äº§å“æœºä¼šå…¨æ™¯è§„åˆ’', file: 'product/GC-AIäº§å“æœºä¼šå…¨æ™¯è§„åˆ’.md', icon: 'ğŸ—º', tag: 'äº§å“', desc: 'å…¨æ™¯æœºä¼šåœ°å›¾' },
  { name: 'å‘ç°è®¿è°ˆå®Œæ•´æ‰§è¡Œå‰§æœ¬', file: 'gtm/2026-02-22-GCå‘ç°è®¿è°ˆæ‰§è¡Œå‰§æœ¬.md', icon: 'ğŸ¤', tag: 'GTM', desc: '200æ¥è§¦â†’15è®¿è°ˆâ†’3 Demo' },
  { name: 'Demo æ¼”ç¤ºä¸é¦–å• Closing', file: 'gtm/2026-02-22-Demoæ¼”ç¤ºè®¾è®¡ä¸é¦–å•Closing.md', icon: 'ğŸ¯', tag: 'GTM', desc: '30åˆ†é’Ÿå†³ç­–æ¡†æ¶' },
  { name: 'è¾¾æ‹‰æ–¯ GC å¸‚åœºä½œæˆ˜æ‰‹å†Œ', file: 'gtm/2026-02-20-å¾·å…‹è¨æ–¯å·GCå¸‚åœºåˆ‡å…¥ä½œæˆ˜æ‰‹å†Œ.md', icon: 'ğŸ—º', tag: 'GTM', desc: 'DFW 30å¤©è¡ŒåŠ¨è®¡åˆ’' },
  { name: 'GC ä¾›åº”å•†æ¸ é“è·å®¢æˆ˜ç•¥', file: 'gtm/2026-02-21-GCä¾›åº”å•†æ¸ é“ä¸è¡Œä¸šåä¼šè·å®¢æˆ˜ç•¥.md', icon: 'ğŸ¢', tag: 'GTM', desc: 'ä¾›åº”å•†å¼•èè·¯å¾„' },
  { name: 'GC è¡Œä¸šä¿¡ä»»å»ºç«‹ç­–ç•¥', file: 'gtm/2026-02-19-GCè¡Œä¸šä¿¡ä»»å»ºç«‹ä¸æœ¬åœ°æ¸—é€ç­–ç•¥.md', icon: 'ğŸ¤', tag: 'GTM', desc: 'ä¿¡ä»»ä¼˜å…ˆå¸‚åœºè§„å¾‹' },
  { name: 'å‘ç°è®¿è°ˆè„šæœ¬ä¸å†·å¤–è”æ‰‹å†Œ', file: 'gtm/2026-02-18-GCå‘ç°è®¿è°ˆè„šæœ¬ä¸å†·å¤–è”æ‰‹å†Œ.md', icon: 'ğŸ™', tag: 'GTM', desc: 'ä¸‰æ¸ é“è¯æœ¯æ¨¡æ¿' },
  { name: 'åˆ›å§‹äººä¸»å¯¼é”€å”®', file: 'gtm/2026-02-19-åˆ›å§‹äººä¸»å¯¼é”€å”®ä¸é¦–æ‰¹å®¢æˆ·å…³é—­.md', icon: 'ğŸ’¼', tag: 'GTM', desc: 'å‰10ä¸ªå®¢æˆ·å¿…é¡»äº²è‡ªåš' },
  { name: 'AI å²—ä½æ›¿ä»£æ–¹æ³•è®º', file: 'company/AIå²—ä½æ›¿ä»£æ–¹æ³•è®º.md', icon: 'ğŸ¤–', tag: 'æ¡†æ¶', desc: 'ä¸‰æ¡ä»¶ Â· å››æ¨¡å¼' },
  { name: 'Two-Track Strategy', file: 'company/Two-Track-Strategy.md', icon: 'ğŸ”€', tag: 'æ¡†æ¶', desc: 'å»ºç­‘/åœ°äº§/è¿è¾“ä¼˜å…ˆ' },
];

const MARKET_DOCS = [
  { name: 'GC åå¤§å…·ä½“ç—›ç‚¹ Ã— AI æœºä¼š', file: 'market/2026-02-21-GCåå¤§å…·ä½“ç—›ç‚¹ä¸AIäº§å“æœºä¼š.md', icon: 'ğŸ—', tag: 'GC', desc: 'æœ€é«˜ä»·å€¼åˆ‡å…¥ç‚¹åˆ†æ' },
  { name: 'GC é¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸæ‹†è§£', file: 'market/2026-02-21-GCé¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸä¸AIè‡ªåŠ¨åŒ–æœºä¼š.md', icon: 'ğŸ”„', tag: 'GC', desc: 'å”®å‰â†’æ–½å·¥â†’æ”¶å°¾å…¨æµç¨‹' },
  { name: 'CrossBeam ç«å“æ·±åº¦è°ƒç ”', file: 'market/2026-02-21-crossbeam-competitor-watch.md', icon: 'ğŸ“¡', tag: 'ç«å“', desc: '25 stars Â· Michael T. Brown' },
  { name: 'Track 1 ç«å“åœ°å›¾', file: 'market/2026-02-17-Track1-Competitor-Map.md', icon: 'ğŸ—‚', tag: 'ç«å“', desc: 'å»ºç­‘/åœ°äº§/è¿è¾“ç«å“å…¨æ™¯' },
  { name: 'è“æµ·ç»†åˆ†å¸‚åœº Top 20', file: 'market/Top-20-Blue-Ocean-Jobs.md', icon: 'ğŸŒŠ', tag: 'æœºä¼š', desc: 'AIæ¸—é€ç‡<5%çš„å¸‚åœº' },
  { name: '200 å²—ä½ AI æ›¿ä»£åˆ†æ', file: 'market/200-jobs-ai-replacement-analysis.md', icon: 'ğŸ“Š', tag: 'æ•°æ®', desc: 'å„å²—ä½æ›¿ä»£å¯è¡Œæ€§è¯„åˆ†' },
  { name: 'NAICS è¡Œä¸šæ¦‚è§ˆ', file: 'market/NAICS-20-Sectors-Overview.md', icon: 'ğŸ­', tag: 'æ•°æ®', desc: '20å¤§è¡Œä¸šäººå£ä¸äº§å€¼' },
  { name: 'ç¾å›½è¡Œä¸šäººå£åœ°å›¾', file: 'market/US-Industry-Workers-Output-Map.md', icon: 'ğŸ—º', tag: 'æ•°æ®', desc: '333Mäººå£è¡Œä¸šåˆ†å¸ƒ' },
];

// â”€â”€ Fetch helpers â”€â”€
async function fetchMd(path) {
  const r = await fetch(BASE + '/' + path + '?t=' + Date.now());
  if (!r.ok) throw new Error('404');
  return r.text();
}

// â”€â”€ Article â”€â”€
function openArticle(file, title) {
  document.getElementById('article-title').textContent = title;
  document.getElementById('article-body').innerHTML = '<p style="color:#999;padding:20px;font-size:14px">åŠ è½½ä¸­â€¦</p>';
  document.getElementById('article-view').classList.add('open');
  fetchMd(file).then(md => {
    document.getElementById('article-body').innerHTML = marked.parse(md);
    document.getElementById('article-body').scrollTop = 0;
  }).catch(() => {
    document.getElementById('article-body').innerHTML = '<p style="color:#ef4444;padding:20px">åŠ è½½å¤±è´¥</p>';
  });
}
function closeArticle() {
  document.getElementById('article-view').classList.remove('open');
}

// â”€â”€ Search â”€â”€
function openSearch() {
  document.getElementById('search-overlay').classList.add('open');
  setTimeout(() => document.getElementById('search-input').focus(), 100);
}
function closeSearch() {
  document.getElementById('search-overlay').classList.remove('open');
  document.getElementById('search-input').value = '';
  document.getElementById('search-results').innerHTML = '';
}
function doSearch(q) {
  const el = document.getElementById('search-results');
  if (!q.trim()) { el.innerHTML = ''; return; }
  const results = ALL_DOCS.filter(d => d.name.toLowerCase().includes(q.toLowerCase()) || d.tag.toLowerCase().includes(q.toLowerCase()));
  if (!results.length) { el.innerHTML = '<p style="padding:20px;color:#999;font-size:14px;text-align:center">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ–‡æ¡£</p>'; return; }
  el.innerHTML = '<div class="card-list" style="padding-top:8px">' + results.map(d => docCardHTML(d)).join('') + '</div>';
  el.querySelectorAll('.doc-card').forEach((el2, i) => {
    el2.onclick = () => { closeSearch(); openArticle(results[i].file, results[i].name); };
  });
}

// â”€â”€ Doc card â”€â”€
function docCardHTML(d) {
  return `<div class="doc-card">
    <div class="doc-icon">${d.icon || 'ğŸ“„'}</div>
    <div class="doc-info">
      <div class="doc-name">${d.name}</div>
      <div class="doc-meta">
        <span class="doc-tag">${d.tag}</span>
        ${d.desc ? `<span class="doc-date">${d.desc}</span>` : ''}
      </div>
    </div>
    <div class="doc-arrow">â€º</div>
  </div>`;
}

function renderDocList(docs) {
  const html = '<div class="card-list">' + docs.map(d => docCardHTML(d)).join('') + '</div>';
  document.getElementById('content-area').innerHTML = html;
  document.querySelectorAll('.doc-card').forEach((el, i) => {
    el.onclick = () => openArticle(docs[i].file, docs[i].name);
  });
}

// â”€â”€ HOME â”€â”€
async function renderHome() {
  const area = document.getElementById('content-area');
  area.innerHTML = `
    <div class="home-hero">
      <h2>Renaix ğŸ§­</h2>
      <div class="sub">Renaissance + AI + X Â· Founded 2026-02-05</div>
      <div class="phase-badge">ğŸ”¥ Phase 1 Â· å‘ç°è®¿è°ˆé˜¶æ®µ</div>
    </div>
    <div class="kpi-row" id="kpi-row">
      <div class="kpi-card"><div class="kpi-num">1</div><div class="kpi-label">å®¢æˆ·</div></div>
      <div class="kpi-card"><div class="kpi-num" style="color:var(--green)">$0</div><div class="kpi-label">MRR</div></div>
      <div class="kpi-card"><div class="kpi-num">0</div><div class="kpi-label">è®¿è°ˆ</div></div>
      <div class="kpi-card"><div class="kpi-num">100</div><div class="kpi-label">IDEAS</div></div>
    </div>

    <div class="section-title">ğŸ”¥ æœ¬å‘¨ç„¦ç‚¹</div>
    <div class="focus-card">
      <div class="focus-title">â–¸ å½“å‰æœ€é«˜ä¼˜å…ˆçº§</div>
      <div class="focus-item"><div class="focus-num">1</div>åŠ å…¥ 3-5 ä¸ª DFW GC Facebook ç¾¤ç»„</div>
      <div class="focus-item"><div class="focus-num">2</div>Google Maps æ”¶é›† 50 ä¸ªç›®æ ‡ GC</div>
      <div class="focus-item"><div class="focus-num">3</div>å®Œæˆç¬¬ä¸€ä¸ªå‘ç°è®¿è°ˆ</div>
    </div>

    <div class="section-title">âš¡ å¿«é€Ÿå…¥å£</div>
    <div class="quick-actions">
      <div class="qa-btn" onclick="openArticle('product/maya-product-strategy.md','Maya äº§å“å¤§æˆ˜ç•¥')">
        <div class="qa-icon">ğŸ§­</div>
        <div class="qa-text"><div class="qa-title">Maya æˆ˜ç•¥</div><div class="qa-desc">ä¸‰åœˆæ¡†æ¶</div></div>
      </div>
      <div class="qa-btn" onclick="openArticle('company/Company-Timeline.md','å…¬å¸æ—¶é—´çº¿')">
        <div class="qa-icon">ğŸ—“</div>
        <div class="qa-text"><div class="qa-title">å…¬å¸æ—¶é—´çº¿</div><div class="qa-desc">é‡Œç¨‹ç¢‘è®°å½•</div></div>
      </div>
      <div class="qa-btn" onclick="openArticle('gtm/2026-02-22-GCå‘ç°è®¿è°ˆæ‰§è¡Œå‰§æœ¬.md','å‘ç°è®¿è°ˆæ‰§è¡Œå‰§æœ¬')">
        <div class="qa-icon">ğŸ¤</div>
        <div class="qa-text"><div class="qa-title">è®¿è°ˆå‰§æœ¬</div><div class="qa-desc">å®Œæ•´æ‰§è¡ŒæŒ‡å—</div></div>
      </div>
      <div class="qa-btn" onclick="openArticle('gtm/2026-02-22-Demoæ¼”ç¤ºè®¾è®¡ä¸é¦–å•Closing.md','Demo æ¼”ç¤ºä¸é¦–å• Closing')">
        <div class="qa-icon">ğŸ¯</div>
        <div class="qa-text"><div class="qa-title">Demo å‰§æœ¬</div><div class="qa-desc">30åˆ†é’Ÿæˆäº¤</div></div>
      </div>
    </div>

    <div class="section-title">ğŸ“ˆ æœ€æ–°åŠ¨æ€</div>
    <div id="activity-feed">
      <div class="activity-item"><div class="activity-dot"></div><div><div class="activity-text">Maya äº§å“å¤§æˆ˜ç•¥æ›´æ–°ï¼šä¸‰åœˆæ¡†æ¶ + Agent æ¶æ„ + å®šä»·æ¨¡å‹</div><div class="activity-time">2026-02-22 Â· ä»Šå¤©</div></div></div>
      <div class="activity-item"><div class="activity-dot" style="background:var(--blue)"></div><div><div class="activity-text">GC å‘ç°è®¿è°ˆæ‰§è¡Œå‰§æœ¬å®Œæˆï¼Œæ¶µç›–å…¨æµç¨‹</div><div class="activity-time">2026-02-22 Â· ä»Šå¤©</div></div></div>
      <div class="activity-item"><div class="activity-dot" style="background:var(--purple)"></div><div><div class="activity-text">çŸ¥è¯†åº“é‡ç»„å®Œæˆï¼šå…¬å¸ / å®¢æˆ· / å¸‚åœº / ç­–ç•¥</div><div class="activity-time">2026-02-22 Â· ä»Šå¤©</div></div></div>
      <div class="activity-item"><div class="activity-dot" style="background:var(--green)"></div><div><div class="activity-text">Demo æ¼”ç¤ºè®¾è®¡ä¸é¦–å• Closing å¿ƒç†å­¦ç ”ç©¶å®Œæˆ</div><div class="activity-time">2026-02-22 Â· ä»Šå¤©</div></div></div>
    </div>`;

  // Load live stats
  try {
    const res = await fetch(BASE + '/_latest.json?t=' + Date.now());
    const data = await res.json();
    if (data.stats) {
      const s = data.stats;
      document.getElementById('kpi-row').innerHTML = `
        <div class="kpi-card"><div class="kpi-num">${s.clients||1}</div><div class="kpi-label">å®¢æˆ·</div></div>
        <div class="kpi-card"><div class="kpi-num" style="color:var(--green)">$0</div><div class="kpi-label">MRR</div></div>
        <div class="kpi-card"><div class="kpi-num">0</div><div class="kpi-label">è®¿è°ˆ</div></div>
        <div class="kpi-card"><div class="kpi-num">${s.ideas||100}</div><div class="kpi-label">IDEAS</div></div>`;
    }
  } catch(e) {}
}

// â”€â”€ CLIENTS â”€â”€
function renderClients() {
  const area = document.getElementById('content-area');
  area.innerHTML = `
    <div class="pipeline-stages">
      <div class="stage-chip active" onclick="filterClients('all',this)">å…¨éƒ¨</div>
      <div class="stage-chip" onclick="filterClients('lead',this)">Leads</div>
      <div class="stage-chip" onclick="filterClients('demo',this)">Demo</div>
      <div class="stage-chip" onclick="filterClients('active',this)">Active</div>
      <div class="stage-chip" onclick="filterClients('closed',this)">Closed</div>
    </div>

    <div style="padding: 12px 12px 4px">
      <div class="section-title" style="padding:0 0 8px">ğŸ“Š æ¼æ–—æ¦‚è§ˆ</div>
      <div style="display:flex;gap:8px">
        <div style="flex:1;background:var(--card);border-radius:12px;padding:12px;text-align:center;box-shadow:0 1px 4px rgba(0,0,0,0.05)">
          <div style="font-size:20px;font-weight:800;color:var(--orange)">0</div>
          <div style="font-size:10px;color:var(--muted);font-weight:600;margin-top:2px">LEADS</div>
        </div>
        <div style="flex:1;background:var(--card);border-radius:12px;padding:12px;text-align:center;box-shadow:0 1px 4px rgba(0,0,0,0.05)">
          <div style="font-size:20px;font-weight:800;color:var(--blue)">0</div>
          <div style="font-size:10px;color:var(--muted);font-weight:600;margin-top:2px">DEMO</div>
        </div>
        <div style="flex:1;background:var(--card);border-radius:12px;padding:12px;text-align:center;box-shadow:0 1px 4px rgba(0,0,0,0.05)">
          <div style="font-size:20px;font-weight:800;color:var(--green)">1</div>
          <div style="font-size:10px;color:var(--muted);font-weight:600;margin-top:2px">ACTIVE</div>
        </div>
        <div style="flex:1;background:var(--card);border-radius:12px;padding:12px;text-align:center;box-shadow:0 1px 4px rgba(0,0,0,0.05)">
          <div style="font-size:20px;font-weight:800;color:var(--navy)">$0</div>
          <div style="font-size:10px;color:var(--muted);font-weight:600;margin-top:2px">MRR</div>
        </div>
      </div>
    </div>

    <div style="padding: 4px 0" id="client-list">
      <div class="section-title">ğŸ¢ å®¢æˆ·æ¡£æ¡ˆ</div>
      <div class="client-card" onclick="openArticle('clients/001-supra-neuro/CLIENT.md','Supra Neuro')">
        <div class="client-card-header">
          <div class="client-avatar">ğŸ§ </div>
          <div>
            <div class="client-name">Supra Neuro</div>
            <div class="client-stage">Client 001 Â· Pilot</div>
          </div>
          <div class="client-status"><span class="status-badge status-active">Active</span></div>
        </div>
        <div class="client-metrics">
          <div class="metric-cell"><div class="metric-val">â€”</div><div class="metric-key">MRR</div></div>
          <div class="metric-cell"><div class="metric-val">3/1</div><div class="metric-key">MEETING</div></div>
          <div class="metric-cell"><div class="metric-val">Pilot</div><div class="metric-key">STAGE</div></div>
        </div>
        <div class="client-next">
          <span class="next-label">NEXT â†’</span>
          <span class="next-text">2026-03-01 17:00 Â· åˆæ­¥ä¼šè®®</span>
        </div>
      </div>

      <div class="section-title" style="margin-top:8px">ğŸ” Leads Pipeline</div>
      <div class="empty-state">
        <div class="empty-icon">ğŸ¯</div>
        <p>è¿˜æ²¡æœ‰ leads</p>
        <p style="font-size:12px;margin-top:6px">ä» DFW GC Facebook ç¾¤ç»„å¼€å§‹<br>ç›®æ ‡ï¼šæœ¬å‘¨åŠ å…¥ 3-5 ä¸ªç¾¤ç»„</p>
      </div>
    </div>`;
}

function filterClients(stage, el) {
  document.querySelectorAll('.stage-chip').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
}

// â”€â”€ MARKET â”€â”€
let activeMarketFilter = 'all';
function renderMarket() {
  const area = document.getElementById('content-area');
  const tags = ['all','GC','ç«å“','æœºä¼š','æ•°æ®'];
  area.innerHTML = `
    <div class="filter-row">
      ${tags.map(t => `<div class="chip ${t==='all'?'active':''}" onclick="filterMarket('${t}',this)">${t==='all'?'å…¨éƒ¨':t}</div>`).join('')}
    </div>
    <div class="card-list" id="market-list"></div>`;
  renderMarketList('all');
}

function filterMarket(tag, el) {
  document.querySelectorAll('.filter-row .chip').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
  activeMarketFilter = tag;
  renderMarketList(tag);
}

function renderMarketList(tag) {
  const docs = tag === 'all' ? MARKET_DOCS : MARKET_DOCS.filter(d => d.tag === tag);
  const list = document.getElementById('market-list');
  list.innerHTML = docs.map(d => docCardHTML(d)).join('');
  list.querySelectorAll('.doc-card').forEach((el, i) => {
    el.onclick = () => openArticle(docs[i].file, docs[i].name);
  });
}

// â”€â”€ STRATEGY â”€â”€
let activeStrategyFilter = 'all';
function renderStrategy() {
  const area = document.getElementById('content-area');
  const tags = ['all','äº§å“','GTM','æ¡†æ¶'];
  area.innerHTML = `
    <div class="filter-row">
      ${tags.map(t => `<div class="chip ${t==='all'?'active':''}" onclick="filterStrategy('${t}',this)">${t==='all'?'å…¨éƒ¨':t}</div>`).join('')}
    </div>
    <div class="card-list" id="strategy-list"></div>`;
  renderStrategyList('all');
}

function filterStrategy(tag, el) {
  document.querySelectorAll('.filter-row .chip').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
  renderStrategyList(tag);
}

function renderStrategyList(tag) {
  const docs = tag === 'all' ? STRATEGY_DOCS : STRATEGY_DOCS.filter(d => d.tag === tag);
  const list = document.getElementById('strategy-list');
  list.innerHTML = docs.map(d => docCardHTML(d)).join('');
  list.querySelectorAll('.doc-card').forEach((el, i) => {
    el.onclick = () => openArticle(docs[i].file, docs[i].name);
  });
}

// â”€â”€ MAYA â”€â”€
async function renderMaya() {
  const area = document.getElementById('content-area');
  area.innerHTML = `
    <div style="background:linear-gradient(135deg,#1E3A5F 0%,#2d5a94 60%,#F97316 100%);padding:24px 16px 28px;color:white">
      <div style="display:flex;align-items:center;gap:14px;margin-bottom:16px">
        <div style="width:60px;height:60px;border-radius:18px;background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;font-size:30px;flex-shrink:0">ğŸ¤–</div>
        <div>
          <div style="font-size:20px;font-weight:800">Maya</div>
          <div style="font-size:13px;opacity:0.75;margin-top:2px">Renaix AI å‘˜å·¥ Â· GC åè°ƒä¸“å‘˜</div>
          <div style="display:inline-flex;align-items:center;gap:5px;background:rgba(16,185,129,0.25);border:1px solid rgba(16,185,129,0.5);border-radius:20px;padding:3px 10px;margin-top:6px;font-size:11px;color:#6EE7B7;font-weight:600">
            <span style="width:6px;height:6px;border-radius:50%;background:#10B981;display:inline-block"></span>åœ¨çº¿
          </div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px" id="maya-stats">
        <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
          <div style="font-size:18px;font-weight:800">â€”</div>
          <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">æ–‡ä»¶</div>
        </div>
        <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
          <div style="font-size:18px;font-weight:800">â€”</div>
          <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">ä»»åŠ¡</div>
        </div>
        <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
          <div style="font-size:18px;font-weight:800">â€”</div>
          <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">Cron</div>
        </div>
        <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
          <div style="font-size:18px;font-weight:800">â€”</div>
          <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">å·¥ä½œæ—¶æ®µ</div>
        </div>
      </div>
    </div>

    <div id="maya-body" style="padding-bottom:16px">
      <div style="padding:20px;text-align:center;color:var(--muted);font-size:14px">åŠ è½½ä¸­â€¦</div>
    </div>`;

  try {
    const res = await fetch(BASE + '/_maya-daily.json?t=' + Date.now());
    const d = await res.json();

    // Update stats
    const s = d.stats || {};
    document.getElementById('maya-stats').innerHTML = `
      <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
        <div style="font-size:18px;font-weight:800">${s.filesCreated||0}</div>
        <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">æ–‡ä»¶</div>
      </div>
      <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
        <div style="font-size:18px;font-weight:800">${s.tasksCompleted||0}</div>
        <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">ä»»åŠ¡</div>
      </div>
      <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
        <div style="font-size:18px;font-weight:800">${s.cronJobsOk||0}</div>
        <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">Cron âœ…</div>
      </div>
      <div style="background:rgba(255,255,255,0.1);border-radius:10px;padding:10px;text-align:center">
        <div style="font-size:14px;font-weight:800">${s.hoursWorked||'â€”'}</div>
        <div style="font-size:9px;opacity:0.7;margin-top:2px;font-weight:600">å·¥ä½œæ—¶æ®µ</div>
      </div>`;

    // Body
    const tw = d.todayWork || {};
    const files = (d.filesCreated || []).map(f => `
      <div class="doc-card" onclick="openArticle('${f.path}','${f.name}')">
        <div class="doc-icon">${f.icon}</div>
        <div class="doc-info"><div class="doc-name">${f.name}</div><div class="doc-meta"><span class="doc-tag">ä»Šæ—¥äº§å‡º</span></div></div>
        <div class="doc-arrow">â€º</div>
      </div>`).join('');

    const crons = (d.cronStatus || []).map(c => `
      <div style="display:flex;align-items:center;gap:10px;padding:10px 14px;border-bottom:1px solid var(--border)">
        <span style="font-size:18px">${c.icon}</span>
        <div style="flex:1">
          <div style="font-size:13px;font-weight:600">${c.name}</div>
          <div style="font-size:11px;color:var(--muted)">${c.time}</div>
        </div>
        <span style="font-size:12px;font-weight:600;color:${c.status==='ok'?'#10B981':c.status==='error'?'#EF4444':'#F59E0B'}">${c.status==='ok'?'âœ… æ­£å¸¸':c.status==='error'?'âŒ é”™è¯¯':'â³ ç­‰å¾…'}</span>
      </div>`).join('');

    document.getElementById('maya-body').innerHTML = `
      <div class="section-title" style="padding-top:16px">ğŸ“‹ ä»Šæ—¥å·¥ä½œæ±‡æŠ¥ Â· ${d.date||'â€”'}</div>
      <div style="margin:0 12px 12px;background:var(--card);border-radius:var(--radius);overflow:hidden;box-shadow:0 1px 4px rgba(0,0,0,0.06)">
        ${tw.research ? `<div style="padding:12px 14px;border-bottom:1px solid var(--border)">
          <div style="font-size:10px;font-weight:700;color:var(--orange);margin-bottom:4px;text-transform:uppercase">ğŸ”¬ ç ”ç©¶</div>
          <div style="font-size:13px;font-weight:600">${tw.research.title}</div>
          <div style="font-size:12px;color:var(--muted);margin-top:3px">${tw.research.summary}</div>
        </div>` : ''}
        ${tw.learning ? `<div style="padding:12px 14px;border-bottom:1px solid var(--border)">
          <div style="font-size:10px;font-weight:700;color:var(--blue);margin-bottom:4px;text-transform:uppercase">ğŸ“š å­¦ä¹ </div>
          <div style="font-size:13px;font-weight:600">${tw.learning.title}</div>
          <div style="font-size:12px;color:var(--muted);margin-top:3px">${tw.learning.summary}</div>
        </div>` : ''}
        ${tw.strategy ? `<div style="padding:12px 14px;border-bottom:1px solid var(--border)">
          <div style="font-size:10px;font-weight:700;color:var(--purple);margin-bottom:4px;text-transform:uppercase">ğŸ§­ æˆ˜ç•¥</div>
          <div style="font-size:13px;color:var(--text)">${tw.strategy}</div>
        </div>` : ''}
        ${tw.infra ? `<div style="padding:12px 14px">
          <div style="font-size:10px;font-weight:700;color:var(--green);margin-bottom:4px;text-transform:uppercase">âš™ï¸ åŸºç¡€è®¾æ–½</div>
          <div style="font-size:13px;color:var(--text)">${tw.infra}</div>
        </div>` : ''}
      </div>

      <div class="section-title">ğŸ“ ä»Šæ—¥äº§å‡ºæ–‡ä»¶</div>
      <div class="card-list">${files || '<div style="padding:16px;color:var(--muted);font-size:13px;text-align:center">æš‚æ— æ–‡ä»¶</div>'}</div>

      <div class="section-title" style="margin-top:8px">âš™ï¸ Cron Jobs çŠ¶æ€</div>
      <div style="margin:0 12px;background:var(--card);border-radius:var(--radius);overflow:hidden;box-shadow:0 1px 4px rgba(0,0,0,0.06)">
        ${crons}
      </div>

      <div class="section-title" style="margin-top:16px">ğŸ¤– å…³äº Maya</div>
      <div style="margin:0 12px 16px;background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:0 1px 4px rgba(0,0,0,0.06)">
        <div style="font-size:13px;color:var(--text);line-height:1.7">
          Maya æ˜¯ Renaix çš„ AI å‘˜å·¥ï¼Œä¸“æ³¨äº <strong>GCï¼ˆæ€»æ‰¿åŒ…å•†ï¼‰æ²Ÿé€šåè°ƒ</strong>ã€‚<br><br>
          <strong>ä¸‰åœˆå·¥ä½œèŒƒå›´ï¼š</strong><br>
          ğŸ  <strong>éœ€æ±‚ä¾§</strong> â€” è·Ÿè¿› leadsï¼Œè½¬åŒ–ï¼Œæ›´æ–°å®¢æˆ·è¿›åº¦<br>
          ğŸ”§ <strong>ä¾›åº”ä¾§</strong> â€” æ´¾æ´»ç¡®è®¤ï¼Œåè°ƒåˆ†åŒ…å•†ï¼Œå‚¬æ¬¾<br>
          ğŸ‘” <strong>å†…éƒ¨</strong> â€” ä¿¡æ¯ä¸­æ¢ï¼Œä»»åŠ¡åˆ†é…ï¼ŒçŠ¶æ€æ±‡æŠ¥<br><br>
          <strong>å·¥ä½œæ—¶æ®µï¼š</strong> å…¨å¤©å€™ï¼ˆå¤œé—´ 00:30-08:00 è‡ªä¸»ç ”ç©¶ï¼‰<br>
          <strong>å½“å‰é˜¶æ®µï¼š</strong> Phase 1 â€” å†…éƒ¨ä¿¡æ¯æ•´ç† + å‘ç°è®¿è°ˆå‡†å¤‡
        </div>
      </div>`;
  } catch(e) {
    document.getElementById('maya-body').innerHTML = '<div style="padding:20px;text-align:center;color:#ef4444;font-size:14px">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•</div>';
  }
}

// â”€â”€ TAB SWITCHING â”€â”€
function switchTab(name, el) {
  currentTab = name;
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
  closeArticle();
  document.getElementById('content-area').scrollTop = 0;
  if (name === 'home') renderHome();
  else if (name === 'clients') renderClients();
  else if (name === 'market') renderMarket();
  else if (name === 'strategy') renderStrategy();
  else if (name === 'maya') renderMaya();
}

// Init
renderHome();
</script>
</body>
</html>
